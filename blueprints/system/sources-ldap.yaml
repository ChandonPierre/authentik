version: 1
metadata:
  labels:
    blueprints.goauthentik.io/system: "true"
  name: System - LDAP Source - Mappings
entries:
  - identifiers:
      managed: goauthentik.io/sources/ldap/default-name
    model: authentik_sources_ldap.ldappropertymapping
    attrs:
      name: "authentik default LDAP Mapping: Name"
      object_field: "name"
      expression: |
        return ldap.get('name')
  - identifiers:
      managed: goauthentik.io/sources/ldap/default-mail
    model: authentik_sources_ldap.ldappropertymapping
    attrs:
      name: "authentik default LDAP Mapping: mail"
      object_field: "email"
      expression: |
        return ldap.get('mail')
  # ActiveDirectory-specific mappings
  - identifiers:
      managed: goauthentik.io/sources/ldap/ms-samaccountname
    model: authentik_sources_ldap.ldappropertymapping
    attrs:
      name: "authentik default Active Directory Mapping: sAMAccountName"
      object_field: "username"
      expression: |
        return ldap.get('sAMAccountName')
  - identifiers:
      managed: goauthentik.io/sources/ldap/ms-userprincipalname
    model: authentik_sources_ldap.ldappropertymapping
    attrs:
      name: "authentik default Active Directory Mapping: userPrincipalName"
      object_field: "attributes.upn"
      expression: |
        return list_flatten(ldap.get('userPrincipalName'))
  - identifiers:
      managed: goauthentik.io/sources/ldap/ms-givenName
    model: authentik_sources_ldap.ldappropertymapping
    attrs:
      name: "authentik default Active Directory Mapping: givenName"
      object_field: "attributes.givenName"
      expression: |
        return list_flatten(ldap.get('givenName'))
  - identifiers:
      managed: goauthentik.io/sources/ldap/ms-sn
    model: authentik_sources_ldap.ldappropertymapping
    attrs:
      name: "authentik default Active Directory Mapping: sn"
      object_field: "attributes.sn"
      expression: |
        return list_flatten(ldap.get('sn'))
  # OpenLDAP specific mappings
  - identifiers:
      managed: goauthentik.io/sources/ldap/openldap-uid
    model: authentik_sources_ldap.ldappropertymapping
    attrs:
      name: "authentik default OpenLDAP Mapping: uid"
      object_field: "username"
      expression: |
        return ldap.get('uid')
  - identifiers:
      managed: goauthentik.io/sources/ldap/openldap-cn
    model: authentik_sources_ldap.ldappropertymapping
    attrs:
      name: "authentik default OpenLDAP Mapping: cn"
      object_field: "name"
      expression: |
        return ldap.get('cn')
  # Google Secure LDAP specific mappings
  - identifiers:
      managed: goauthentik.io/sources/ldap/google-googleuid
    model: authentik_sources_ldap.ldappropertymapping
    attrs:
      name: "authentik default Google Secure LDAP Mapping: googleUid"
      object_field: "attributes.googleUid"
      expression: |
        return ldap.get('googleUid')
  - identifiers:
      managed: goauthentik.io/sources/ldap/google-posixuid
    model: authentik_sources_ldap.ldappropertymapping
    attrs:
      name: "authentik default Google Secure LDAP Mapping: posixUid"
      object_field: "attributes.posixUid"
      expression: |
        return ldap.get('posixUid')
  - identifiers:
      managed: goauthentik.io/sources/ldap/google-displayname
    model: authentik_sources_ldap.ldappropertymapping
    attrs:
      name: "authentik default Google Secure LDAP Mapping: displayName"
      object_field: "attributes.displayName"
      expression: |
        return ldap.get('displayName')
  - identifiers:
      managed: goauthentik.io/sources/ldap/google-memberof
    model: authentik_sources_ldap.ldappropertymapping
    attrs:
      name: "authentik default Google Secure LDAP Mapping: memberOf"
      object_field: "attributes.memberOf"
      expression: |
        return ldap.get('memberOf')
  - identifiers:
      managed: goauthentik.io/sources/ldap/google-entryuuid
    model: authentik_sources_ldap.ldappropertymapping
    attrs:
      name: "authentik default Google Secure LDAP Mapping: entryUuid"
      object_field: "attributes.entryUuid"
      expression: |
        return ldap.get('entryUuid')
  - identifiers:
      managed: goauthentik.io/sources/ldap/google-objectsid
    model: authentik_sources_ldap.ldappropertymapping
    attrs:
      name: "authentik default Google Secure LDAP Mapping: objectSid"
      object_field: "attributes.objectSid"
      expression: |
        return ldap.get('objectSid')
  - identifiers:
      managed: goauthentik.io/sources/ldap/google-uidnumber
    model: authentik_sources_ldap.ldappropertymapping
    attrs:
      name: "authentik default Google Secure LDAP Mapping: uidNumber"
      object_field: "attributes.uidNumber"
      expression: |
        return ldap.get('uidNumber')
  - identifiers:
      managed: goauthentik.io/sources/ldap/google-gidnumber
    model: authentik_sources_ldap.ldappropertymapping
    attrs:
      name: "authentik default Google Secure LDAP Mapping: gidNumber"
      object_field: "attributes.gidNumber"
      expression: |
        return ldap.get('gidNumber')
  - identifiers:
      managed: goauthentik.io/sources/ldap/google-homedirectory
    model: authentik_sources_ldap.ldappropertymapping
    attrs:
      name: "authentik default Google Secure LDAP Mapping: homeDirectory"
      object_field: "attributes.homeDirectory"
      expression: |
        return ldap.get('homeDirectory')
  - identifiers:
      managed: goauthentik.io/sources/ldap/google-loginshell
    model: authentik_sources_ldap.ldappropertymapping
    attrs:
      name: "authentik default Google Secure LDAP Mapping: loginShell"
      object_field: "attributes.loginShell"
      expression: |
        return ldap.get('loginShell')
  - identifiers:
      managed: goauthentik.io/sources/ldap/google-gidnumber
    model: authentik_sources_ldap.ldappropertymapping
    attrs:
      name: "authentik default Google Secure LDAP Mapping: gidNumber"
      object_field: "attributes.gidNumber"
      expression: |
        return ldap.get('gidNumber')
  - identifiers:
      managed: goauthentik.io/sources/ldap/google-sshpublickey
    model: authentik_sources_ldap.ldappropertymapping
    attrs:
      name: "authentik default Google Secure LDAP Mapping: sshPublicKey"
      object_field: "attributes.sshPublicKey"
      expression: |
        return list_flatten(ldap.get('sshPublicKey'))
  - identifiers:
      managed: goauthentik.io/sources/ldap/google-description
    model: authentik_sources_ldap.ldappropertymapping
    attrs:
      name: "authentik default Google Secure LDAP Mapping: description"
      object_field: "attributes.description"
      expression: |
        return list_flatten(ldap.get('description'))
  - identifiers:
      managed: goauthentik.io/sources/ldap/google-member
    model: authentik_sources_ldap.ldappropertymapping
    attrs:
      name: "authentik default Google Secure LDAP Mapping: member"
      object_field: "attributes.member"
      expression: |
        return list_flatten(ldap.get('member'))
  - identifiers:
      managed: goauthentik.io/sources/ldap/google-memberuid
    model: authentik_sources_ldap.ldappropertymapping
    attrs:
      name: "authentik default Google Secure LDAP Mapping: memberUid"
      object_field: "attributes.memberUid"
      expression: |
        return list_flatten(ldap.get('memberUid'))
